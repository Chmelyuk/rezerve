<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style1.css">
    <link rel="manifest" href="manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
</head>

<body>
    <div class="flip-container">
        <div class="flipper">
            <!-- Лицевая сторона -->
            <div class="front container">
                <header>
                    <h1 class="textLogo">Резерв</h1>
                </header>

                <div class="document">
                    <h2>Військово-</h2>
                    <h2>обліковий</h2>
                    <h2>документ</h2>
                    <p class="status">Дані уточнено вчасно</p>
                    <p><strong>Дата народження:</strong></p>
                    <p>16.04.1996</p>

                    <p><strong>Відстрочка до:</strong></p>
                    <p>14.11.2024</p>

                    <div class="wrap">
                        <div class="items-wrap">
                            <div class="item">
                                <p>На обліку • Документ оновлено о 16:34 | 17.10.2024</p>
                            </div>
                            <div class="item">
                                <p>На обліку • Документ оновлено о 16:34 | 17.10.2024</p>
                            </div>
                            <div class="item">
                                <p>На обліку • Документ оновлено о 16:34 | 17.10.2024</p>
                            </div>
                            <div class="item">
                                <p>На обліку • Документ оновлено о 16:34 | 17.10.2024</p>
                            </div>
                        </div>
                    </div>
                    <div class="footer">
                        <div class="personal-info">
                            <p><strong>Військовозобов'язаний:</strong></p>
                            <h2>ЧМЕЛЮК</h2>
                            <h2>Дмитро</h2>
                            <h2>Васильович</h2>
                        </div>
                        <button class="dots">...</button>
                    </div>
                </div>
                <a href="javascript:void(0);" id="scan-button">
                    <p class="scan-button">Сканувати документ</p>
                </a>
            </div>

            <!-- Обратная сторона с QR-кодом -->
            <div class="back">
                <img src="qr.png" alt="QR Code" class="qr-code">
            </div>
        </div>
    </div>

    <script>
        const flipContainer = document.querySelector('.flip-container');

        flipContainer.addEventListener('click', () => {
            flipContainer.classList.toggle('flip');
        });

        const itemsWrap = document.querySelector('.items-wrap');

        // Клонируем элементы
        const items = itemsWrap.children;
        const itemsArray = Array.from(items);

        // Клонирование каждого элемента для создания бесшовной анимации
        itemsArray.forEach(item => {
            const clone = item.cloneNode(true);
            itemsWrap.appendChild(clone);
        });

        // Измеряем ширину элемента
        const itemWidth = items[0].getBoundingClientRect().width; // Получаем ширину первого элемента
        const totalWidth = itemWidth * itemsWrap.children.length; // Общая ширина элементов
        const animationDuration = (totalWidth / 50); // Устанавливаем скорость анимации, чем больше значение, тем медленнее

        itemsWrap.style.width = `${totalWidth}px`; // Устанавливаем ширину контейнера
        itemsWrap.style.animationDuration = `${animationDuration}s`; // Устанавливаем длительность анимации

        // Функция для включения камеры
        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const videoElement = document.createElement('video');
                videoElement.srcObject = stream;
                videoElement.play();

                // Добавляем видео на страницу
                document.body.appendChild(videoElement);
                videoElement.style.position = 'fixed';
                videoElement.style.top = '0';
                videoElement.style.left = '0';
                videoElement.style.width = '100%';
                videoElement.style.height = '100%';
                videoElement.style.zIndex = '1000'; // Чтобы видео было поверх остальных элементов
                videoElement.style.objectFit = 'cover'; // Чтобы изображение занимало весь экран

            } catch (error) {
                console.error('Ошибка доступа к камере:', error);
            }
        }

        // Обработчик события для кнопки
        document.getElementById('scan-button').addEventListener('click', startCamera);
    </script>
</body>

</html>
